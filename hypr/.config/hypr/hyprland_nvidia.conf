# NVIDIA Configuration for Gaming (Hyprland 0.53.3)
# Optimized for hybrid laptop: Intel iGPU + NVIDIA MX330

# Environment Variables
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = NVD_BACKEND,direct
env = ELECTRON_OZONE_PLATFORM_HINT,auto

# Fix NVIDIA + Wayland cursor stutter
cursor {
    no_hardware_cursors = 2
    use_cpu_buffer = 2
}

# Disable direct scanout on hybrid laptop (dGPU->iGPU copy issues)
render {
    direct_scanout = 0
}

# NVIDIA anti-flicker
opengl {
    nvidia_anti_flicker = true
}

# Gaming Window Rules - HSR
windowrule = match:class ^(starrail.exe)$, immediate on
windowrule = match:class ^(starrail.exe)$, no_blur on
windowrule = match:class ^(starrail.exe)$, opaque on
windowrule = match:class ^(star_rail.exe)$, immediate on
windowrule = match:class ^(star_rail.exe)$, no_blur on
windowrule = match:class ^(star_rail.exe)$, opaque on
windowrule = match:class ^(StarRail.exe)$, immediate on
windowrule = match:class ^(StarRail.exe)$, no_blur on
windowrule = match:class ^(StarRail.exe)$, opaque on

# Gaming Window Rules - Minecraft
windowrule = match:class ^(.*minecraft.*)$, immediate on
windowrule = match:class ^(.*minecraft.*)$, no_blur on
windowrule = match:class ^(.*minecraft.*)$, opaque on

# Gaming Window Rules - Steam games
windowrule = match:class ^(.*steam_app.*)$, immediate on
windowrule = match:class ^(.*steam_app.*)$, no_blur on
windowrule = match:class ^(.*steam_app.*)$, opaque on
